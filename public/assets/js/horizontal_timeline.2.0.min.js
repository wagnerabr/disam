/* -------------------------------- 
Horizontal Timeline 2.0
by Studocwho @ yCodeTech
	
Original Horizontal Timeline by CodyHouse

Licensed under the MIT license	
	
Docs at http://horizontal-timeline.ycodetech.co.uk
-------------------------------- */
!function(E,m,c,a){var l="horizontalTimeline",n={desktopDateIntervals:200,tabletDateIntervals:150,mobileDateIntervals:120,minimalFirstDateInterval:!0,dateDisplay:"dateTime",dateOrder:"normal",autoplay:!1,autoplaySpeed:8,autoplayPause_onHover:!1,useScrollWheel:!1,useTouchSwipe:!0,useKeyboardKeys:!1,addRequiredFile:!0,useFontAwesomeIcons:!0,useNavBtns:!0,useScrollBtns:!0,iconBaseClass:"fas fa-3x",scrollLeft_iconClass:"fa-chevron-circle-left",scrollRight_iconClass:"fa-chevron-circle-right",prev_iconClass:"fa-arrow-circle-left",next_iconClass:"fa-arrow-circle-right",pause_iconClass:"fa-pause-circle",play_iconClass:"fa-play-circle"};function o(e,t){this.element=e,this.settings=E.extend({},n,t),this._defaults=n,this._name=l,this.$element=E(e),this.init()}o.prototype.init=function(){var s=this;if(0==this.$element.find("li").length&&this.$element.css("opacity",1).html("<h3>There are no events at this point in time.<br><br>Please add some content.</h3>"),1==this.settings.useFontAwesomeIcons){this._addFile("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css","css")}this._create(),m.setTimeout(E.proxy(function(){if(timelineComponents={},this._timelineComponents(timelineComponents),this.init.addIdsAndClasses=function(e){1==timelineComponents.eventsContentList.length?(timelineComponents.eventsContentList.first().attr("id","first"),timelineComponents.timelineEvents.first().addClass("first")):(timelineComponents.eventsContentList.first().attr("id","first").end().last().attr("id","last"),timelineComponents.timelineEvents.first().addClass("first").end().last().addClass("last"))},this.init.addIdsAndClasses(this),timelineComponents.eventsContentList.hasClass("selected")){var e=timelineComponents.eventsContentSelected.data("date");(t=timelineComponents.eventsWrapper.find('a[data-date="'+e+'"]')).addClass("selected"),this._updateOlderEvents(t)}else if("normal"==this.settings.dateOrder){timelineComponents.eventsWrapper.find("a.first").addClass("selected");var t=(i=timelineComponents.eventsWrapper.find("a.selected")).data("date");timelineComponents.eventsContent.find('li[data-date="'+t+'"]').addClass("selected")}else if("reverse"==this.settings.dateOrder){timelineComponents.eventsWrapper.find("a.last").addClass("selected");var i;t=(i=timelineComponents.eventsWrapper.find("a.selected")).data("date");timelineComponents.eventsContent.find('li[data-date="'+t+'"]').addClass("selected"),this._updateOlderEvents(i)}this._setDatePosition(timelineComponents);var n=this._setTimelineWidth(timelineComponents);this._updateFilling(timelineComponents.eventsWrapper.find("a.selected"),timelineComponents.fillingLine,n),this.$element.addClass("loaded"),this._setup(s,timelineComponents,n)},this),300)},o.prototype._create=function(){var e='<div class="events-wrapper"><div class="events"><span class="filling-line" aria-hidden="true"></span></div></div>',t='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.scrollLeft_iconClass+' scroll-left inactive"></a>',i='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.prev_iconClass+' prev inactive"></a>',n='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.next_iconClass+' next"></a>',s='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.scrollRight_iconClass+' scroll-right"></a>',a='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.pause_iconClass+' pause"></a>';this.$element.prepend('<div class="timeline"></div>');var l=this.$element.find(".timeline");1==this.settings.useNavBtns||1==this.settings.useScrollBtns?(l.append('<div class="timeline-navigation" id="leftNav"></div>').append(e).append('<div class="timeline-navigation" id="rightNav"></div>'),0==this.settings.useNavBtns&&1==this.settings.useScrollBtns?l.find("#leftNav").append(t).end().find("#rightNav").append(s):1==this.settings.useNavBtns&&0==this.settings.useScrollBtns?l.find("#leftNav").append(i).end().find("#rightNav").append(n):1==this.settings.useNavBtns&&1==this.settings.useScrollBtns&&l.find("#leftNav").append(t).append(i).end().find("#rightNav").append(n).append(s)):(l.append(e),l.find(".events-wrapper").css("min-width","100%")),1==this.settings.autoplay&&l.append('<div class="timeline-navigation" id="pausePlay"></div>').find("#pausePlay").append(a),this._create.date=function(e,t,i){if("normal"==e.settings.dateOrder)var n=e.$element.children(".events-content").find("li");else if("reverse"==e.settings.dateOrder)n=E(e.$element.children(".events-content").find("li").get().reverse());"dateTime"==e.settings.dateDisplay?n.each(function(){e._create.eventDateDisplay(e,E(this),"dateTime",t,i)}):"date"==e.settings.dateDisplay?n.each(function(){e._create.eventDateDisplay(e,E(this),"date",t,i)}):"time"==e.settings.dateDisplay?n.each(function(){e._create.eventDateDisplay(e,E(this),"time",t,i)}):"dayMonth"==e.settings.dateDisplay?n.each(function(){e._create.eventDateDisplay(e,E(this),"dayMonth",t,i)}):"monthYear"==e.settings.dateDisplay?n.each(function(){e._create.eventDateDisplay(e,E(this),"monthYear",t,i)}):"year"==e.settings.dateDisplay&&n.each(function(){e._create.eventDateDisplay(e,E(this),"year",t,i)})},this._create.eventDateDisplay=function(e,t,i,n,s){var a=t.data("date"),l=t.is('[data-date*="T"]'),o=t.not('[data-date*="T"]').is('[data-date*=":"]'),r="dateTime"==i,p="date"==i,d="time"==i,h="dayMonth"==i,m="monthYear"==i,c="year"==i,f=e.$element.find(".events"),u='<a href="" data-date="'+a+'">',v=f.find('a[data-date="'+s+'"]');function g(e){if(3<e&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function _(e){return[null,"January","February","March","April","May","June","July","August","September","October","November","December"][e]}var y=f.children("a").map(function(){return E(this).data("date")}).get();if(-1==jQuery.inArray(a,y))if(l){var C=a.split("T"),b=C[0],w=C[1],W=(N=b.split("/"))[0].replace(/^0+/,""),x=N[1].replace(/^0+/,""),T=N[2];if(t.data("custom-display")){var D=t.data("customDisplay");"append"==n?f.append(u+D+"</a>"):"after"==n?v.after(u+D+"</a>"):v.before(u+D+"</a>")}else r?"append"==n?f.append(u+b+"<br>"+w+"</a>"):"after"==n?v.after(u+b+"<br>"+w+"</a>"):v.before(u+b+"<br>"+w+"</a>"):p?"append"==n?f.append(u+b+"</a>"):"after"==n?v.after(u+b+"</a>"):v.before(u+b+"</a>"):d?"append"==n?f.append(u+w+"</a>"):"after"==n?v.after(u+w+"</a>"):v.before(u+w+"</a>"):h?"append"==n?f.append(u+W+g(W)+"<br>"+_(x)+"</a>"):"after"==n?v.after(u+W+g(W)+"<br>"+_(x)+"</a>"):v.before(u+W+g(W)+"<br>"+_(x)+"</a>"):m?"append"==n?f.append(u+_(x)+"<br>"+T+"</a>"):"after"==n?v.after(u+_(x)+"<br>"+T+"</a>"):v.before(u+_(x)+"<br>"+T+"</a>"):c&&("append"==n?f.append(u+T+"</a>"):"after"==n?v.after(u+T+"</a>"):v.before(u+T+"</a>"))}else if(o){w=a;if(t.data("custom-display")){D=t.data("customDisplay");"append"==n?f.append(u+D+"</a>"):"after"==n?v.after(u+D+"</a>"):v.before(u+D+"</a>")}else(r||d)&&("append"==n?f.append(u+w+"</a>"):"after"==n?v.after(u+w+"</a>"):v.before(u+w+"</a>"))}else{var N;W=(N=(b=a).split("/"))[0].replace(/^0+/,""),x=N[1].replace(/^0+/,""),T=N[2];if(t.data("custom-display")){D=t.data("customDisplay");"append"==n?f.append(u+D+"</a>"):"after"==n?v.after(u+D+"</a>"):v.before(u+D+"</a>")}else r||p?"append"==n?f.append(u+b+"</a>"):"after"==n?v.after(u+b+"</a>"):v.before(u+b+"</a>"):h?"append"==n?f.append(u+W+g(W)+"<br>"+_(x)+"</a>"):"after"==n?v.after(u+W+g(W)+"<br>"+_(x)+"</a>"):v.before(u+W+g(W)+"<br>"+_(x)+"</a>"):m?"append"==n?f.append(u+_(x)+"<br>"+T+"</a>"):"after"==n?v.after(u+_(x)+"<br>"+T+"</a>"):v.before(u+_(x)+"<br>"+T+"</a>"):c&&("append"==n?f.append(u+T+"</a>"):"after"==n?v.after(u+T+"</a>"):v.before(u+T+"</a>"))}},this._create.date(this,"append")},o.prototype._timelineComponents=function(e){e.eventsContent=this.$element.children(".events-content"),e.eventsContentList=e.eventsContent.find("li"),e.eventsContentSelected=e.eventsContent.find("li.selected"),e.timelineWrapper=e.eventsContent.parent().find(".events-wrapper"),e.eventsWrapper=e.timelineWrapper.children(".events"),e.fillingLine=e.eventsWrapper.children(".filling-line"),e.timelineEvents=e.eventsWrapper.find("a"),e.timelineNavigation=e.timelineWrapper.siblings(".timeline-navigation")},o.prototype._setup=function(e,o,r){var n,s,a,l,t=this.$element.attr("id");if(this._setup.mobileResizeFix=function(e){var t=this.$element.data("plugin_"+this._name).windowWidth,i=E(m).width();i!==t&&this.refresh(),this.$element.data("plugin_"+this._name).windowWidth=i},E(m).on("resize."+this._name+"_"+t,(n=E.proxy(this._setup.mobileResizeFix,this),s=250,function(){var e=this,t=arguments,i=a&&!l;clearTimeout(l),l=setTimeout(function(){l=null,a||n.apply(e,t)},s),i&&n.apply(e,t)})),this.$element.on("click."+this._name,".timeline-navigation .inactive",function(e){return e.stopImmediatePropagation(),!1}).on("click."+this._name,".timeline-navigation a",E.proxy(function(){event.preventDefault();var e=E(event.target);this._timelineComponents(o),r=this._setTimelineWidth(o),e.is(".next")&&this._showNewContent(o,r,"next"),e.is(".prev")&&this._showNewContent(o,r,"prev"),e.is(".scroll-right")&&this._updateSlide(o,r,"right"),e.is(".scroll-left")&&this._updateSlide(o,r,"left")},this)).on("click."+this._name,".events a",E.proxy(function(){event.preventDefault();var e=E(event.target);this._timelineComponents(o),this.$element.find(".events").find("a").removeClass("selected"),e.addClass("selected"),this._updateOlderEvents(e),r=this._setTimelineWidth(o),this._updateFilling(e,o.fillingLine,r),this._updateVisibleContent(e,o.eventsContent),this._updateTimelinePosition(e,o,r)},this)),1==this.settings.autoplay){var i=o.timelineNavigation.find(".pause")[0];if(o.eventsContent.prepend('<div class="progressBarWrapper"><div class="progressBar"></div></div>'),this._setup.autoplay=function(e,t){e._setup.autoplay.countEvents=function(){return t.timelineEvents.length};var i,n,s,a,l=Number(e.settings.autoplaySpeed),o=e.$element.find("#pausePlay");function r(e){s=0,i=!1,autoplayTimelineTotalWidth=e._setTimelineWidth(t),n=setInterval(E.proxy(p,e),10)}function p(){if(!1===i){var e=this._checkMQ();s+="tinyMobile"==e||"mobile"==e?3/l:1/l,E(".progressBar").css({width:s+"%"}),a=t.eventsWrapper.find(".selected").index(),100<=s&&("normal"==this.settings.dateOrder&&a==this._setup.autoplay.countEvents()||"reverse"==this.settings.dateOrder&&1==a?(this._showNewContent(t,autoplayTimelineTotalWidth,"start"),a=t.eventsWrapper.find(".selected").index()):"normal"==this.settings.dateOrder?this._showNewContent(t,autoplayTimelineTotalWidth,"next"):"reverse"==this.settings.dateOrder&&this._showNewContent(t,autoplayTimelineTotalWidth,"prev"))}}e._setup.autoplay.start=r,e._setup.autoplay.start(e),e._setup.autoplay.pause=function(){i=!0},e._setup.autoplay.resume=function(){i=!1},e._setup.autoplay.moved=function(e){o.hasClass("clicked")||(clearInterval(n),r(e))},e._setup.autoplay.changeButtons=function(e){var t=e.data,i=t[0],n=t[1],s=t[2],a=this.$element.find("#pausePlay"),l='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.play_iconClass+' play"></a>';"click"==e.type&&1==i?(a.addClass("clicked"),this.$element.data("plugin_"+this._name).mouseEvent="click",a.html(l),this._setup.autoplay.pause(),console.log("Autoplay is "+s+".")):"click"!=e.type||i||(a.removeClass("clicked"),this.$element.data("plugin_"+this._name).mouseEvent=!1,a.html(n),this._setup.autoplay.resume(),console.log("Autoplay is "+s+".")),"mouseenter"!=e.type||a.hasClass("clicked")?"mouseleave"!=e.type||a.hasClass("clicked")||(this.$element.data("plugin_"+this._name).mouseEvent=!1,a.html(n),this._setup.autoplay.resume(),console.log("Autoplay is "+s+".")):(this.$element.data("plugin_"+this._name).mouseEvent="hover",a.html(l),this._setup.autoplay.pause(),console.log("Autoplay is "+s+"."))},e._setup.autoplay.refresh=function(e){e._timelineComponents(t),autoplayTimelineTotalWidth=e._setTimelineWidth(t)},e._setup.autoplay.destroy=function(){clearInterval(n)}},this._setup.autoplay(this,o),this.$element.on("click."+this._name,".timeline-navigation .pause",[!0,i,"paused"],E.proxy(this._setup.autoplay.changeButtons,this)).on("click."+this._name,".timeline-navigation .play",[!1,i,"playing"],E.proxy(this._setup.autoplay.changeButtons,this)),1==this.settings.autoplayPause_onHover){var p=this._checkMQ();"smallTablet"!=p&&"tablet"!=p&&"desktop"!=p||this.$element.on("mouseenter."+this._name,".events-content",[!1,i,"paused"],E.proxy(this._setup.autoplay.changeButtons,this)).on("mouseleave."+this._name,".events-content",[!1,i,"playing"],E.proxy(this._setup.autoplay.changeButtons,this))}}var d=E(".goto-horizontal-timeline");if(0<d.length){d.on("click."+this._name,E.proxy(function(e){e.preventDefault();var t={},i=E(e.target),n=i.attr("href"),s=E(n),a="#"==n;if(a){var l="#"+i.parents(".horizontal-timeline").attr("id");s=E(l)}t.timelineWrapper=s.find(".events-wrapper"),t.eventsWrapper=t.timelineWrapper.children(".events"),t.fillingLine=t.eventsWrapper.children(".filling-line"),t.timelineEvents=t.eventsWrapper.find("a"),t.timelineNavigation=s.find(".timeline-navigation"),t.eventsContent=s.children(".events-content"),t.eventsContentList=t.eventsContent.find("li");var o,r,p,d,h=i.data("gototimeline"),m=h.date,c=h.scrollspeed,f=h.scrolloffset,u=h.scrolleasing,v={speed:500,offset:0,easing:"linear"};void 0!==h&&(o=m,r=void 0!==c?c:v.speed,p=void 0!==f?f:v.offset,d=void 0!==u?u:v.easing);var g='a[data-date="'+o+'"]',_=t.eventsWrapper.find("a"),y=t.eventsWrapper.find(g),C=this._setTimelineWidth(t);a?b(this):E("html, body").stop().animate({scrollTop:s.offset().top-p},r,d,E.proxy(function(){b(this)},this));function b(e){y.hasClass("selected")||(_.removeClass("selected"),y.addClass("selected"),e._updateOlderEvents(y),e._updateFilling(y,t.fillingLine,C),e._updateVisibleContent(y,t.eventsContent)),e._updateTimelinePosition(y,t,C)}},this))}if(1==this.settings.useScrollWheel){var h="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";this._setup.mousewheel=function(e,t){this._timelineComponents(o),r=this._setTimelineWidth(o),0<e.deltaY?this._showNewContent(o,r,"prev"):this._showNewContent(o,r,"next");e.preventDefault()},this._addFile(h,"js",E.proxy(function(){m.setTimeout(E.proxy(function(){this.$element.on("mousewheel."+this._name,".events-content",E.proxy(this._setup.mousewheel,this))},this),300)},this))}if(1==this.settings.useTouchSwipe){h="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.18/jquery.touchSwipe.min.js";this._setup.swipe=function(e,t){e._timelineComponents(o),r=e._setTimelineWidth(o),e._showNewContent(o,r,t)},this._addFile(h,"js",E.proxy(function(){m.setTimeout(E.proxy(function(){o.eventsContent.swipe({swipeRight:E.proxy(function(e,t,i,n,s){this._setup.swipe(this,"prev")},this),swipeLeft:E.proxy(function(e,t,i,n,s){this._setup.swipe(this,"next")},this),threshold:75,preventDefaultEvents:!1}),o.timelineWrapper.swipe({swipeRight:E.proxy(function(e,t,i,n,s){var a=this._getTranslateValue(o.eventsWrapper),l=Number(o.timelineWrapper.width());this._translateTimeline(o,i+a,l-r)},this),swipeLeft:E.proxy(function(e,t,i,n,s){var a=this._getTranslateValue(o.eventsWrapper),l=Number(o.timelineWrapper.width());this._translateTimeline(o,-i+a,l-r)},this),threshold:30,preventDefaultEvents:!1})},this),1e3)},this)),o.timelineWrapper.addClass("touch-enabled").parent().siblings(".events-content").addClass("touch-enabled")}if(1==this.settings.useKeyboardKeys){this._setup.keyboardKeys=function(e){this._timelineComponents(o),r=this._setTimelineWidth(o),"37"==e.which&&this._elementInViewport(this.element)?this._showNewContent(o,r,"prev"):"39"==e.which&&this._elementInViewport(this.element)&&this._showNewContent(o,r,"next")};t=this.$element.attr("id");E(c).on("keyup."+this._name+"_"+t,E.proxy(this._setup.keyboardKeys,this))}},o.prototype.refresh=function(){this._timelineComponents(timelineComponents),timelineComponents.eventsContent.find("#first").removeAttr("id").end().find("#last").removeAttr("id").end(),timelineComponents.eventsWrapper.find(".first").removeClass("first").end().find(".last").removeClass("last").end(),this.init.addIdsAndClasses(this),this._setDatePosition(timelineComponents),timelineTotalWidth=this._setTimelineWidth(timelineComponents),this._updateFilling(timelineComponents.eventsWrapper.find("a.selected"),timelineComponents.fillingLine,timelineTotalWidth),1==this.settings.autoplay&&this._setup.autoplay.refresh(this),console.log("refreshed #"+this.element.id)},o.prototype.destroy=function(){var e=this.$element,t=e.attr("id"),i=e.data("plugin_"+this._name).originalEventsContent;1==E(".horizontal-timeline .timeline").length&&(E(".goto-horizontal-timeline").off("."+this._name),E("body").removeData("plugin_"+this._name+"_loadedFile")),e.removeClass("loaded").off("."+this._name,"**").find(".timeline").remove().end().find(".events-content").replaceWith(i).swipe("destroy"),e.find(".events-wrapper").removeClass("touch-enabled").swipe("destroy"),E(c).off("."+this._name+"_"+t),E(m).off("."+this._name+"_"+t),1==this.settings.autoplay&&this._setup.autoplay.destroy(),e.removeData("plugin_"+l),console.log("destroyed #"+this.element.id)},o.prototype.addEvent=function(e,t,i){this._timelineComponents(timelineComponents);var n='[data-date="'+i+'"]',s=e.split("data-date")[1].split('"'),a=timelineComponents.eventsContent.find("li"+n),l=timelineComponents.eventsWrapper.find("a.selected"),o=this.$element.data("plugin_"+this._name).existingDates;-1==jQuery.inArray(s[1],o)&&(o.push(s[1]),"before"==t?a.before(e):"after"==t&&a.after(e),this._create.date(this,t,i),this._updateOlderEvents(l),this.refresh())},o.prototype.removeEvent=function(e){this._timelineComponents(timelineComponents);var t,i='[data-date="'+e+'"]',n=timelineComponents.eventsWrapper.find("a"+i),s=timelineComponents.eventsContent.find("li"+i);1<timelineComponents.timelineEvents.length?(n.is(".selected")?(s.removeClass(".selected"),n.next().length?(t=n.next().addClass("selected"),s.next().addClass("selected")):(t=n.prev().addClass("selected"),s.prev().addClass("selected"))):t=timelineComponents.eventsWrapper.find("a.selected"),this._updateOlderEvents(t),n.remove(),s.remove(),this.refresh()):console.warn("Timeline must always have at least 1 event after initialisation, therefore it can't be removed. Please use the Destroy method instead.")},o.prototype._updateSlide=function(e,t,i){var n=this._getTranslateValue(e.eventsWrapper),s=Number(e.timelineWrapper.width());"right"==i?this._translateTimeline(e,n-s,s-t):this._translateTimeline(e,n+s)},o.prototype._showNewContent=function(e,t,i){var n=e.eventsContent.find(".selected");if("normal"==this.settings.dateOrder)var s="next"==i?n.next():n.prev();else if("reverse"==this.settings.dateOrder)s="next"==i?n.prev():n.next();if(0<s.length||"reverse"==this.settings.dateOrder&&"start"==i){var a,l=e.eventsWrapper.find(".selected");"start"==i?"normal"==this.settings.dateOrder?a=e.eventsWrapper.find(".first"):"reverse"==this.settings.dateOrder&&(a=e.eventsWrapper.find(".last")):"next"==i?a=l.next("a"):"prev"==i&&(a=l.prev("a")),this._updateVisibleContent(a,e.eventsContent),a.addClass("selected"),l.removeClass("selected"),this._updateFilling(a,e.fillingLine,t),this._updateOlderEvents(a),this._updateTimelinePosition(a,e,t)}},o.prototype._updateTimelinePosition=function(e,t,i){var n=Number(e.css("left").replace("px","")),s=t.timelineWrapper.width();this._translateTimeline(t,s/2-n,s-i)},o.prototype._translateTimeline=function(e,t,i){t=0<t?0:t;t=void 0!==i&&t<i?i:t,this._setTransformValue(e.eventsWrapper,"translateX",t+"px"),this._buttonStates(e,t,i)},o.prototype._updateFilling=function(e,t,i){var n=e.css("left").replace("px",""),s=e.css("width").replace("px",""),a=(n=Number(n)+Number(s)/2)/i;this._setTransformValue(t,"scaleX",a)},o.prototype._setDatePosition=function(e){var t=0,n=0,s=0;this._setDateIntervals(e);var a=this._checkMQ();for(1!=this.settings.minimalFirstDateInterval&&"tinyMobile"!=a&&"mobile"!=a||(e.timelineEvents.first().css({left:"0px","padding-left":"10px"}),s=1),i=s;i<e.timelineEvents.length;i++)t=n+dateIntervals,e.timelineEvents.eq(i).css("left",t+"px"),n=t},o.prototype._setTimelineWidth=function(e){var t=0,i=e.timelineWrapper.width(),n=Number(e.timelineEvents.last().css("left").replace("px",""))+100;return t=n<i?i:n,e.eventsWrapper.css("width",t+"px"),this._updateTimelinePosition(e.eventsWrapper.find("a.selected"),e,t),t},o.prototype._updateVisibleContent=function(e,t){var i=e.data("date"),n=t.find(".selected"),s=t.find('[data-date="'+i+'"]'),a=s.outerHeight();if(s.index()>n.index())var l="selected enter-right",o="leave-left";else l="selected enter-left",o="leave-right";s.addClass(l),n.addClass(o).one("webkitAnimationEnd."+this._name+" oanimationend."+this._name+" msAnimationEnd."+this._name+" animationend."+this._name,function(){n.removeClass("leave-right leave-left"),s.removeClass("enter-left enter-right")}).removeClass("selected"),t.height(a+"px"),1!=this.settings.autoplay||this.$element.data("plugin_"+this._name).mouseEvent||this._setup.autoplay.moved(this)},o.prototype._updateOlderEvents=function(e){e.prevAll("a").addClass("older-event").end().nextAll("a").removeClass("older-event"),e.is(".selected")&&e.removeClass("older-event")},o.prototype._getTranslateValue=function(e){var t=m.getComputedStyle(e.get(0),null);if(0<=(i=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")).indexOf("("))var i,n=(i=(i=(i=i.split("(")[1]).split(")")[0]).split(","))[4];else n=0;return Number(n)},o.prototype._setTransformValue=function(e,t,i){e.css({"-webkit-transform":t+"("+i+")","-moz-transform":t+"("+i+")","-ms-transform":t+"("+i+")","-o-transform":t+"("+i+")",transform:t+"("+i+")"})},o.prototype._elementInViewport=function(e){for(var t=e.offsetTop,i=e.offsetLeft,n=e.offsetWidth,s=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,i+=e.offsetLeft;return t<m.pageYOffset+m.innerHeight&&i<m.pageXOffset+m.innerWidth&&t+s>m.pageYOffset&&i+n>m.pageXOffset},o.prototype._setDateIntervals=function(e){var t=this._checkMQ();"tinyMobile"==t||"mobile"==t?dateIntervals=this.settings.mobileDateIntervals:"smallTablet"==t||"tablet"==t?dateIntervals=this.settings.tabletDateIntervals:"desktop"==t&&(dateIntervals=this.settings.desktopDateIntervals);dateIntervals<120&&(dateIntervals=120)},o.prototype._checkMQ=function(){return m.getComputedStyle(this.element,":before").content.replace(/'/g,"").replace(/"/g,"")},o.prototype._buttonStates=function(e,t,i){var n=e.timelineNavigation.find(".next"),s=e.timelineNavigation.find(".prev"),a=e.timelineNavigation.find(".scroll-left"),l=e.timelineNavigation.find(".scroll-right"),o=e.timelineWrapper.find(".first"),r=e.timelineWrapper.find(".last");Number(e.timelineWrapper.css("width").replace("px",""))==e.eventsWrapper.width()&&(a.addClass("inactive"),l.addClass("inactive")),1==e.eventsContentList.length?(s.addClass("inactive"),n.addClass("inactive")):(o.is(".selected")?s.addClass("inactive"):s.removeClass("inactive"),r.is(".selected")?n.addClass("inactive"):n.removeClass("inactive")),0==t?a.addClass("inactive"):a.removeClass("inactive"),t==i?l.addClass("inactive"):l.removeClass("inactive")},o.prototype._addFile=function(n,e,i){if(1==this.settings.addRequiredFile){var t,s=E("body").data("plugin_"+this._name+"_loadedFile"),a="js"==e,l="css"==e,o=n.split("libs/")[1].split("/")[0];a?t=E('script[src*="'+o+'"]'):l&&(t=E('link[href*="'+o+'"]')),null==s&&(s=new Array),-1!=s.indexOf(n)||t.length?t.length&&-1==s.indexOf(n)?(a&&(console.log(o+" has already been loaded by a <script> tag in the document, no need to load it again. Timeline instance:",this.$element),"function"==typeof i&&i(this)),s.push(n)):a&&(console.log(o+" has already been loaded, no need to load it again. Timeline instance:",this.$element),"function"==typeof i&&i(this)):(a?(console.log(o+" plugin isn't loaded.",this.$element),E.getScript(n).done(function(e,t){"function"==typeof i&&i(this)}).fail(function(e,t,i){console.error("Failed to get "+n+"\n"+e+"\n"+this.settings+"\n"+i)}),console.log(o+" was loaded dynamically.",this.$element)):l&&(console.log(o+" isn't loaded."),E("<link>").attr({href:n,rel:"stylesheet",type:"text/css"}).insertAfter(E("head").find("link").last()),console.log(o+" was loaded dynamically.")),s.push(n)),a&&console.log(o+" executed on timeline instance: ",this.$element),E("body").data("plugin_"+this._name+"_loadedFile",s)}else"function"==typeof i&&i(this)},E.fn[l]=function(t){var i,n=arguments,e=E(m).width(),s=E(this).find(".events-content").find("li").map(function(){return E(this).data("date")}).get();return t===a||"object"==typeof t?this.each(function(){E.data(this,"plugin_"+l)||E.data(this,"plugin_"+l,{originalEventsContent:E(this).find(".events-content").clone()[0],windowWidth:e,existingDates:s,Timeline:new o(this,t)})}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each(function(){var e=E.data(this,"plugin_"+l).Timeline;e instanceof o&&"function"==typeof e[t]&&(i=e[t].apply(e,Array.prototype.slice.call(n,1)))}),i!==a?i:this):void 0}}(jQuery,window,document);
